# scholar nexus

This repo contains the public development for a prototype of an open, easy-to-setup, free science dissemination platform.
Do not expect stability or extensive documentation until the project will consolidate.

## run this locally

1. clone this repo and open it in vscode
1. click the popup or search for the action "build and reopen in container" (ctrl+shift+p->reopen) 
1. open a terminal
1. run `python build_site.py` to clone papers, build with myst, and generate the homepage
1. run `HOST=0.0.0.0 serve.py` to serve the site locally at `http://localhost:5000`

## access the live preview

TODO!

## dev

### why devcontainers

To absolutely 100% ensure replicability of environment, we currently use devcontainers for our dev environment. The environment is fully contained in `.devcontainer/environment.yml`, so the container just installs micromamba (a smaller conda alternative) and creates a suitable environment. Devcontainers ensures:
1. complete replicability on environment
1. same "base" development experience
1. one-action onboarding experience

### what the workflow is right now

- `journal.yml` contains a list of paper repositories and their main entrypoint file
- `build_site.py` clones repos, generates myst config, builds with myst, and creates a static homepage
- `serve.py` serves the built site locally for development
- GitHub Actions builds and deploys to GitHub Pages on push to main

### directory structure

```
nexus/
├── index.html                    # Generated homepage
├── home.md                       # Homepage content (editable)
├── content/
│   └── papers/
│       └── {repo_name}/          # Cloned repositories
│           ├── paper.md
│           ├── myst.yml          # Generated by build_site.py
│           └── _build/html/      # Myst build output
└── papers/
    └── {repo_name}/              # Static output (served to users)
        ├── index.html
        └── build/                # Myst assets (JS, CSS)
```

**Build flow:** Clone → `nexus/content/papers/{repo}/` → Build → `_build/html/` → Copy → `nexus/papers/{repo}/`

### where to find more info

Most of the work will follow our issue board. This work is funded by Neuromatch! More info [here](https://neuromatch.io/about/)